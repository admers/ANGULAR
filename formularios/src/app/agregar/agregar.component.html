<div class="container">
  <form action="" [formGroup]="formularioCreado">
    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input type="text" class="form-control" formControlName="nombre">
      <div *ngIf="formularioCreado.controls['nombre'].invalid && formularioCreado.controls['nombre'].dirty" class="alert alert-danger" role="alert">
       <span *ngIf="formularioCreado.controls['nombre'].errors.required"></span> El nombre es requerido
      </div>
    </div>
    <!--{{formularioCreado.controls['nombre'].invalid}}
    {{formularioCreado.controls['nombre'].dirty}}-->
    <div class="form-group">
      <label for="correo">Correo</label>
      <input type="text" class="form-control" name="correo"  formControlName="correo" >

      <div *ngIf="formularioCreado.controls['correo'].invalid && formularioCreado.controls['correo'].dirty">
        <div *ngIf="formularioCreado.controls['correo'].errors.required" class="alert alert-danger" role="alert">
          El correo es requerido
        </div>
        <div *ngIf="formularioCreado.controls['correo'].errors.email" class="alert alert-danger" role="alert">
          No parece un correo valido
        </div>
      </div>

    </div>

    <div class="form-group">
      <label for="password">Contrase単a</label>
      <input type="password" class="form-control"  formControlName="password">

      <div *ngIf="formularioCreado.controls['password'].invalid && formularioCreado.controls['password'].dirty" >

        <div *ngIf="formularioCreado.controls['password'].errors.required" class="alert alert-danger" role="alert">
         La contrase単a es requerido
        </div>
        <div *ngIf="formularioCreado.controls['password'].errors.minLength" class="alert alert-danger" role="alert">
         La contrase単a debe tener al menos 8 caractares
        </div>

      </div>

    </div>


<!--
      <button *ngIf="esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-primary" (click)="agregar()">Agregar</button>
-->

      <button *ngIf="esNuevo" [disabled]="!formularioCreado.valid" class="btn btn-primary" (click)="agregar()">Agregar</button>

      <button *ngIf="!esNuevo" [disabled]="!formularioCreado.valid"  class="btn btn-danger" (click)="editar()">Editar</button>

  </form>

  <p>Es valido: {{ formularioCreado.valid }}</p>
  <p>
    {{formularioCreado.value | json}}
  </p>
  <!--<div *ngFor="let usuario of usuarios">
    <h4>Nombre: {{usuario.nombre}}</h4>
    <p>Email: {{usuario.correo}}</p>
    <p>Contrase単a: {{usuario.password}}</p>
  </div>-->

  <div >
    <table class="table">
      <thead>
      <tr>
        <th scope="col">POSICION</th>
        <th scope="col">Nombre</th>
        <th scope="col">Correo</th>
        <th scope="col">Password</th>
        <th scope="col">Editar Us</th>
      </tr>
      </thead>
      <tbody *ngFor="let usuario of usuarios; let posicion = index">
      <tr >
        <th scope="row">{{posicion+1}}</th>
        <td>{{usuario.nombre}}</td>
        <td>{{usuario.correo}}</td>
        <td>{{usuario.password}}</td>
        <td><button (click)="editarUsuario(posicion)">Editar</button></td>
        <td><button (click)="eliminarUsuario(posicion)">Eliminar</button></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
